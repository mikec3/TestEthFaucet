(this.webpackJsonpTestEthFaucet=this.webpackJsonpTestEthFaucet||[]).push([[0],{213:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"donationValue","type":"uint256"},{"indexed":false,"internalType":"address","name":"sender","type":"address"}],"name":"emitDonation","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"outcome","type":"string"},{"indexed":false,"internalType":"uint256","name":"playerAttack","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"computerAttack","type":"uint256"},{"indexed":true,"internalType":"address","name":"player","type":"address"}],"name":"emitOutcome","type":"event"},{"inputs":[],"name":"donate","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"playerInput","type":"uint256"}],"name":"play","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"}]')},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},238:function(e,t){},247:function(e,t){},265:function(e,t){},267:function(e,t){},288:function(e,t){},289:function(e,t){},350:function(e,t){},352:function(e,t){},385:function(e,t){},387:function(e,t){},388:function(e,t){},393:function(e,t){},395:function(e,t){},401:function(e,t){},403:function(e,t){},416:function(e,t){},428:function(e,t){},431:function(e,t){},436:function(e,t){},444:function(e,t){},453:function(e,t){},455:function(e,t){},524:function(e,t,n){"use strict";n.r(t);var c=n(15),a=n.n(c),i=n(209),o=n.n(i),s=(n(220),n(40)),r=n(27),u=(n(221),n(222),n(4));var l=function(e){var t=Object(c.useState)(null),n=Object(r.a)(t,2),a=n[0],i=n[1];return Object(u.jsxs)("div",{className:"DonateCard",children:[Object(u.jsxs)("div",{className:"Balance",children:[Object(u.jsx)("p",{children:" Ropsten Eth Balance: "}),Object(u.jsx)("p",{children:e.contractBalance})]}),Object(u.jsx)("button",{onClick:function(){e.contract.methods.donate().send({from:e.defaultAccount,value:1e18}).on("receipt",(function(e){console.log(e),i("Thanks for donating!")})).on("error",(function(e){console.log(e),i("Probably gotta give a little more than that.")}))},children:" Donate 1 test Eth to the faucet "}),Object(u.jsx)("p",{children:a})]})},d=n.p+"static/media/Rock_img.323e1f11.png",j=n.p+"static/media/Paper_img.7d2a44f8.png",f=n.p+"static/media/Scissors_img.4d6a4442.png";n(224);var b=function(e){var t,n;switch(e.attackNum){case 0:t=d,n="Rock attack selector";break;case 1:t=j,n="Paper attack selector";break;case 2:t=f,n="Scissors attack selector"}return Object(u.jsx)("div",{className:"ImageWrapper",children:Object(u.jsx)("img",{className:"AttackImage",src:t,onClick:function(t){var n;n=e.attackNum,alert("Great Choice! Next you will confirm your MetaMask transation, then wait for block confirmation to see result"),e.contract.methods.play(n).send({from:e.defaultAccount}).on("error",(function(e){alert("Either the faucet is empty, or you aborted the transaction!")})).on("receipt",(function(e){}))},alt:n})})};n(225);var m=function(e){return Object(u.jsxs)("div",{className:"AttackCard",children:[Object(u.jsx)("h3",{children:"Select your hand "}),Object(u.jsx)(b,Object(s.a)({hand:"Rock",attackNum:0},e)),Object(u.jsx)(b,Object(s.a)({hand:"Paper",attackNum:1},e)),Object(u.jsx)(b,Object(s.a)({hand:"Scissors",attackNum:2},e))]})};n.p,n(226);var h=function(e){var t;function n(e){var t;switch(e){case"0":t=d;break;case"1":t=j;break;case"2":t=f}return t}return"Player Wins"===e.outcome&&(t="Sending you 1M test Gwei!"),Object(u.jsxs)("div",{className:"OutcomeCard",children:[Object(u.jsxs)("div",{className:"Hand",children:[Object(u.jsx)("h3",{children:" Player "}),Object(u.jsx)("div",{className:"HandHolder",children:Object(u.jsx)("img",{src:n(e.playerAttack)})})]}),Object(u.jsxs)("div",{className:"Outcome",children:[" ",Object(u.jsx)("h3",{children:"Match Outcome "}),Object(u.jsxs)("div",{className:"OutcomeHolder",children:[" ",Object(u.jsx)("h3",{children:e.outcome})," ",Object(u.jsxs)("p",{children:[" ",t]})," "]})]}),Object(u.jsxs)("div",{className:"Hand",children:[Object(u.jsx)("h3",{children:" Eth VM "}),Object(u.jsx)("div",{className:"HandHolder",children:Object(u.jsx)("img",{src:n(e.computerAttack)})})]})]})};var p=function(e){return Object(u.jsx)(h,{outcome:e.outcome,playerAttack:e.playerAttack,computerAttack:e.computerAttack})},O=n(210),x=n.n(O),y=n(213);var w=function(){var e="0x9F0a8af79eFE24c50fE4E6aF2308F928A75fa617",t=Object(c.useState)(null),n=Object(r.a)(t,2),a=n[0],i=n[1],o=Object(c.useState)(null),d=Object(r.a)(o,2),j=d[0],f=d[1],b=Object(c.useState)(null),h=Object(r.a)(b,2),O=h[0],w=h[1],k=Object(c.useState)(null),v=Object(r.a)(k,2),g=v[0],N=v[1],A=Object(c.useState)(null),S=Object(r.a)(A,2),F=S[0],T=S[1],M=Object(c.useState)(null),E=Object(r.a)(M,2),B=E[0],C=E[1];Object(c.useEffect)((function(){window.ethereum&&window.ethereum.isMetaMask?(console.log("MetaMask detected"),window.web3=new x.a(window.ethereum),window.ethereum.send("eth_requestAccounts").then((function(t){console.log(t.result[0]),i(t.result[0]),window.web3.eth.getBalance(e).then((function(e){f(window.web3.utils.fromWei(e))})),C(new window.web3.eth.Contract(y,e))}))):alert("You need to install MetaMask to interact with this app")}),[]),Object(c.useEffect)((function(){null!==B&&null!==a&&null!==window.web3&&(B.events.emitOutcome({filter:{player:a}},(function(e,t){w(t.returnValues.outcome),N(t.returnValues.playerAttack),T(t.returnValues.computerAttack)})),B.events.emitOutcome({},(function(t,n){window.web3.eth.getBalance(e).then((function(e){f(window.web3.utils.fromWei(e))}))})),B.events.emitDonation({},(function(t,n){window.web3.eth.getBalance(e).then((function(e){f(window.web3.utils.fromWei(e))}))})))}),[B,a]);var P={contract:B,defaultAccount:a};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"Title",children:[" ",Object(u.jsx)("h1",{children:" Play "}),Object(u.jsx)("h2",{children:" [Rock, Paper, Scissors] "})]}),Object(u.jsxs)("div",{className:"GameWrapper",children:[Object(u.jsx)(l,Object(s.a)({contractBalance:j},P)),Object(u.jsx)(p,{outcome:O,playerAttack:g,computerAttack:F}),Object(u.jsx)(m,Object(s.a)({},P))]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:Object(u.jsx)("a",{href:"https://github.com/mikec3/TestEthFaucet",children:"GitHub"})}),Object(u.jsx)("p",{children:" Donate to the creator: 0x07Fa7FBff22d6bBcC2f38A29F07B60ef5F4916b3 "})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,528)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root")),k()}},[[524,1,2]]]);
//# sourceMappingURL=main.0d030b56.chunk.js.map